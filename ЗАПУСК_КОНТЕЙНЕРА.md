# Инструкция по запуску контейнера

## Выполненные исправления

1. ✅ Исправлен `src/config.py` - добавлен `override=False` в `load_dotenv()` для правильной работы с переменными окружения из Docker
2. ✅ Проверен `docker-compose.yml` - содержит `env_file: - .env` и `restart: unless-stopped`
3. ✅ Удален старый упавший контейнер

## Команды для запуска

Выполните следующие команды в PowerShell или CMD:

```powershell
# 1. Пересобрать образ (с учетом изменений в config.py)
docker-compose build --no-cache

# 2. Запустить контейнер
docker-compose up -d

# 3. Проверить статус
docker-compose ps

# 4. Посмотреть логи
docker-compose logs --tail=50 basnechkin-bot

# 5. Если нужно посмотреть логи в реальном времени
docker-compose logs -f basnechkin-bot
```

## Важно

Убедитесь, что файл `.env` существует в корне проекта и содержит все необходимые переменные:

```
TELEGRAM_BOT_TOKEN=ваш_токен
OPENAI_API_KEY=ваш_ключ
DEEPSEEK_API_KEY=ваш_ключ
DATABASE_URL=ваша_строка_подключения
```

## Проверка работы

После запуска контейнер должен:
- Иметь статус `running` (проверьте через `docker-compose ps`)
- Не падать с ошибкой о переменных окружения
- Логи должны показывать "Запуск бота 'Баснечкин'..." и "Бот запущен и готов к работе"

## Если контейнер все еще падает

1. Проверьте логи: `docker-compose logs basnechkin-bot`
2. Убедитесь, что файл `.env` существует и содержит все переменные
3. Проверьте, что переменные в `.env` не имеют лишних пробелов или кавычек

